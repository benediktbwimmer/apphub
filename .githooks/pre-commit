#!/bin/sh
set -e

if ! command -v npm >/dev/null 2>&1; then
  echo "pre-commit: npm is required but was not found; skipping lint" >&2
  exit 0
fi

echo 'pre-commit: running npm run lint -- --cache'
export APPHUB_SKIP_VERSION_CHECK=1
npm run lint -- --cache
