# Ticket 050 â€“ Add Filestore Download Capabilities

## Summary
Expose read-side endpoints in the filestore service so operators can retrieve stored files, and surface matching download/preview flows in the explorer UI.

## Motivation
Uploads are supported, but there is no way to fetch file contents through the service or UI. Operators are forced to reach into backends manually. Providing a first-class download path keeps parity with other CRUD operations and reduces backend coupling.

## Scope
- REST additions:
  - `GET /v1/files/:id/content` (stream raw bytes) with range support and checksum headers.
  - `GET /v1/files/:id/presign` for S3 and future cloud backends.
  - Authorization guardrails consistent with existing principal headers.
- Update local and S3 executors to support read streams/presigned payloads.
- Expand `/v1/nodes/:id` payload with a `download` descriptor (direct URL or presigned metadata).
- Frontend explorer enhancements:
  - Add download buttons in the node detail pane and children list.
  - Handle both direct streaming and presigned responses; show progress/errors.
  - Record download activity in the feed when events are emitted.

## Acceptance Criteria
- API endpoints gated by `filestore:read`; responses include appropriate caching and checksum headers.
- UI allows users to download any active file; S3 presign returns viable temporary URLs.
- Vitest coverage for new UI handlers; backend tests cover stream piping and presign logic.

## Dependencies / Notes
- Coordinate with security to confirm token scopes for download operations.
- Ensure large file streaming does not block the event loop (use Fastify stream reply).
