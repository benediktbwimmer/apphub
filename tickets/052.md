# Ticket 052 – Reconciliation Job Visibility

## Summary
Expose reconciliation queue metrics and job history through APIs/SSE and surface the data in the explorer to give operators insight into drift remediation progress.

## Motivation
Current reconciliation controls provide only an “enqueued” toast. Operators cannot confirm execution status, duration, or failures without checking Redis directly. Visibility is essential for diagnosing drift.

## Scope
- Backend:
  - Extend reconciliation manager to persist job records (status, timestamps, result, error) in Postgres.
  - Add `GET /v1/reconciliation/jobs` (filters: mount, path, status) and `GET /v1/reconciliation/jobs/:id`.
  - Emit `filestore.reconciliation.*` events for state changes.
  - Publish Prometheus metrics (run count, latency, failures).
- Frontend:
  - Add a “Reconciliation” panel listing recent jobs with filters and drill-in detail.
  - Show progress indicators for in-flight jobs; display errors with remediation tips.
  - Subscribe to new SSE events to update the panel in real time.

## Acceptance Criteria
- Job lifecycle persists across restarts; API respects `filestore:write` scope.
- UI updates within 5s of job completion without manual refresh.
- Automated tests cover API filters and UI polling/SSE handling.

## Dependencies / Notes
- Evaluate BullMQ APIs for job state without leaking Redis internals.
- Align event payload shapes with `@apphub/shared/filestoreEvents` and bump version accordingly.
